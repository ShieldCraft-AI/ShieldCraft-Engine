import React from 'react';
import {createStackNavigator} from '@react-navigation/stack';
import HomeScreen from '../screens/HomeScreen';
{{#entities}}
import {{name}}ListScreen from '../screens/{{name}}ListScreen';
import {{name}}DetailScreen from '../screens/{{name}}DetailScreen';
import {{name}}FormScreen from '../screens/{{name}}FormScreen';
{{/entities}}

export type RootStackParamList = {
  Home: undefined;
  {{#entities}}
  {{name}}List: undefined;
  {{name}}Detail: {id: number};
  {{name}}Form: {id?: number};
  {{/entities}}
};

const Stack = createStackNavigator<RootStackParamList>();

const AppNavigator = () => {
  return (
    <Stack.Navigator
      initialRouteName="Home"
      screenOptions={{
        headerStyle: {
          backgroundColor: '#007AFF',
        },
        headerTintColor: '#fff',
        headerTitleStyle: {
          fontWeight: 'bold',
        },
      }}>
      <Stack.Screen
        name="Home"
        component={HomeScreen}
        options={{title: '{{app_name}}'}}
      />
      {{#entities}}
      <Stack.Screen
        name="{{name}}List"
        component={{{name}}ListScreen}
        options={{title: '{{name}} List'}}
      />
      <Stack.Screen
        name="{{name}}Detail"
        component={{{name}}DetailScreen}
        options={{title: '{{name}} Details'}}
      />
      <Stack.Screen
        name="{{name}}Form"
        component={{{name}}FormScreen}
        options={({route}) => ({
          title: route.params?.id ? 'Edit {{name}}' : 'Add {{name}}'
        })}
      />
      {{/entities}}
    </Stack.Navigator>
  );
};

export default AppNavigator;